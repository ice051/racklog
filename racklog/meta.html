<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>10&nbsp;高阶谓词</title>
<link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/>
<link rel="stylesheet" type="text/css" href="../racket.css" title="default"/>
<link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/>
<link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/>
<link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/>
<link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/>
<script type="text/javascript" src="../scribble-common.js"></script>
<script type="text/javascript" src="../manual-racket.js"></script>
<script type="text/javascript" src="../manual-racket.js"></script>
<script type="text/javascript" src="../doc-site.js"></script>
<script type="text/javascript" src="../local-redirect/local-redirect.js">
</script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script>
<!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="maincolumn"><div class="main">
<h3 x-source-module="(lib &quot;racklog/racklog.scrbl&quot;)" x-source-pkg="racklog" x-part-tag="&quot;meta&quot;">10<tt>&nbsp;</tt><a name="(part._meta)"></a>高阶谓词</h3>
<p>包含谓词的逻辑变量可以用作谓词表达式中的运算符：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25let%29%29" class="RktStxLink" data-pltdoc="x">%let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25and%29%29" class="RktStxLink" data-pltdoc="x">%and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25~3d%29%29" class="RktValLink" data-pltdoc="x">%=</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote>
<p>首先，逻辑变量 <span class="RktSym">p</span> 与谓词 <span class="RktSym">%knows</span> 统一。在这个表达式中</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span></p></blockquote>
<p><span class="RktSym">p</span> 被它的值 <span class="RktSym">%knows</span> 所取代</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span></p></blockquote>
<p>这成功。</p>
<p>这使我们能够推理谓词本身。例如：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25member%29%29" class="RktValLink" data-pltdoc="x">%member</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktSym">%parent</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Penelope</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((p . #&lt;procedure:relation&gt;))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25more%29%29" class="RktValLink" data-pltdoc="x">%more</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote>
<p>这里，我们测试当给定参数 <span class="RktVal">'</span><span class="RktVal">Odysseus</span> 和 <span class="RktVal">'</span><span class="RktVal">Penelope</span> 时，哪个谓词 <span class="RktSym">%knows</span> 和 <span class="RktSym">%parent</span> 成功。</p>
<p>目标 <span class="RktPn">(</span><span class="RktSym">%knows</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Penelope</span><span class="RktPn">)</span> 成功，但是 <span class="RktPn">(</span><span class="RktSym">%parent</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Penelope</span><span class="RktPn">)</span> 失败。因此 <span class="RktSym">p</span> 的唯一可能值是 <span class="RktSym">%knows</span> 。</p>
<p>但是，用作谓词的逻辑变量必须实例化。由于定义的谓词集不能被Racklog枚举，一个未绑定的查询将失败：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Penelope</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote>
<p>可以定义一个高阶谓词，它测试用 <span class="RktVal">'</span><span class="RktVal">Odysseus</span> 作为参数成功的一元谓词：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.0" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%odyssean</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote>
<p>例如：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%odyssean</span><span class="hspace">&nbsp;</span><span class="RktSym">%computer-literate</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote>
<p>这成功，因为 <span class="RktPn">(</span><span class="RktSym">%computer-literate</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="RktPn">)</span> 成功。</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%odyssean</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25compound%29%29" class="RktValLink" data-pltdoc="x">%compound</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote>
<p>这失败是因为 <span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25compound%29%29" class="RktValLink" data-pltdoc="x">%compound</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="RktPn">)</span> 失败。</p>
<p>如果谓词参数是逻辑变量，这也将起作用：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25member%29%29" class="RktValLink" data-pltdoc="x">%member</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%computer-literate</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25compound%29%29" class="RktValLink" data-pltdoc="x">%compound</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%odyssean</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((p . #&lt;procedure:%computer-literate&gt;))</span></p></td></tr></table></blockquote>
<p>与上面的例子比较一下。</p>
<p>Racklog还提供两个谓词来定义涉及任意谓词的关系。</p>
<h4 x-source-module="(lib &quot;racklog/racklog.scrbl&quot;)" x-source-pkg="racklog" x-part-tag="&quot;_apply&quot;">10.1<tt>&nbsp;</tt><a name="(part.__apply)"></a><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span></h4>
<p> <span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span> 谓词类似于常规的 Racket <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._apply%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">apply</a></span> 。</p>
<p>目标</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="RktPn">)</span></p></blockquote>
<p>如果 <span class="RktSym">L</span> 是一个包含元素 <span class="RktSym">E</span> 的列表，则成功，并且如果 <span class="RktSym">P</span> 是一个谓词，它接受 <span class="RktSym">E</span> 一样多的参数，并且如果目标 <span class="RktPn">(</span><span class="RktSym">P</span><span class="stt"> </span><span class="RktSym">E</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.0" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> 成功。例如：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">TeX</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote>
<p>在这种情况下，目标</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">TeX</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote>
<p>相当于</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span></p></blockquote>
<p>必须充分实例化到 <span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span> 的列表参数，以确定其长度。成功的目标如下：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((X . Odysseus))</span></p></td></tr></table></blockquote>
<p>但是不能将 <span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span> 用于未知长度的列表：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25apply%29%29" class="RktValLink" data-pltdoc="x">%apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote>
<h4 x-source-module="(lib &quot;racklog/racklog.scrbl&quot;)" x-source-pkg="racklog" x-part-tag="&quot;_andmap&quot;">10.2<tt>&nbsp;</tt><a name="(part.__andmap)"></a><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25andmap%29%29" class="RktValLink" data-pltdoc="x">%andmap</a></span></h4>
<p> <span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25andmap%29%29" class="RktValLink" data-pltdoc="x">%andmap</a></span> 谓词与传统的 Racket <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._andmap%2529%2529&amp;version=8.0" class="RktValLink Sq" data-pltdoc="x">andmap</a></span> 类似。</p>
<p>目标</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25andmap%29%29" class="RktValLink" data-pltdoc="x">%andmap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></p></blockquote>
<p>如果所有的 <span class="RktSym">L</span> 都是长度相等的列表，并且目标 <span class="RktPn">(</span><span class="RktSym">P</span><span class="stt"> </span><span class="RktSym">E</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.0/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=8.0" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> 对于每一组元素 <span class="RktSym">L</span> 的 <span class="RktSym">E</span> ... 的目标都是成功的，则成功。例如：</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25which%29%29" class="RktStxLink" data-pltdoc="x">%which</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25andmap%29%29" class="RktValLink" data-pltdoc="x">%andmap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">Penelope</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">TeX</span><span class="hspace">&nbsp;</span><span class="RktVal">Prolog</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote>
<p>在这种情况下，目标</p>
<blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28def._%28%28lib._racklog%2Fmain..rkt%29._~25andmap%29%29" class="RktValLink" data-pltdoc="x">%andmap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">Penelope</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">TeX</span><span class="hspace">&nbsp;</span><span class="RktVal">Prolog</span><span class="RktVal">)</span><span class="RktPn">)</span></p></blockquote>
<p>相似于</p>
<blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="glossary.html#%28form._%28%28lib._racklog%2Fmain..rkt%29._~25and%29%29" class="RktStxLink" data-pltdoc="x">%and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Odysseus</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">TeX</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%knows</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Penelope</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Prolog</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote>
</div></div><div id="contextindicator">&nbsp;</div></body></html>